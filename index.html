<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Under Maintenance</title>
<style>
  body {
    margin: 0;
    background: rgb(255, 255, 255);
    overflow: hidden;
  }
  canvas {
    display: block;
  }
</style>
</head>
<body>
<canvas id="matrix"></canvas>

<script>
const canvas = document.getElementById('matrix');
const ctx = canvas.getContext('2d');

let width = canvas.width = window.innerWidth;
let height = canvas.height = window.innerHeight;

let fontSize = Math.max(1, Math.floor(width / 150));
let cols = Math.ceil(width / fontSize);
let rows = Math.ceil(height / fontSize);

// Initialize columns with random speeds and offsets
let columns = [];
for (let c = 0; c < cols; c++) {
  let col = [];
  for (let r = 0; r < rows; r++) {
    col[r] = Math.random() > 0.5 ? '11' : '00';
  }
  columns[c] = {
    values: col,
    offset: Math.random() * rows,
    speed: 0.01 + Math.random() * 0.5 // random speed per column
  };
}

function drawBinary() {
  // Update each column's offset
  for (let c = 0; c < cols; c++) {
    columns[c].offset += columns[c].speed;
    if (columns[c].offset >= rows) {
      columns[c].offset -= rows;
      // Generate new top value for this column
      columns[c].values[0] = Math.random() > 0.5 ? '11' : '00';
      // Shift column values down
      for (let r = rows - 1; r > 0; r--) {
        columns[c].values[r] = columns[c].values[r - 1];
      }
    }
  }

  // Clear canvas completely (no trail)
  ctx.fillStyle = 'white';
  ctx.fillRect(0, 0, width, height);

  // Draw binary
  ctx.fillStyle = '#00ff00';
  ctx.font = `${fontSize}px monospace`;
  for (let c = 0; c < cols; c++) {
    for (let r = 0; r < rows; r++) {
      let y = ((r + columns[c].offset) % rows) * fontSize;
      ctx.fillText(columns[c].values[r], c * fontSize, y);
    }
  }
}

function maskText() {
  ctx.globalCompositeOperation = 'destination-in';
  ctx.textAlign = 'center';
  ctx.textBaseline = 'middle';
  ctx.font = `${width / 25}px monospace`;
  ctx.fillStyle = 'white';
  ctx.fillText('Under Maintenance', width / 2, height / 2);
  ctx.strokeStyle = 'black';
  ctx.lineWidth = 200;
  ctx.strokeText('UNDER MAINTENANCE', width / 2, height / 2);
  ctx.globalCompositeOperation = 'source-over';
}

function loop() {
  drawBinary();
  maskText();
  requestAnimationFrame(loop);
}

loop();

window.addEventListener('resize', () => {
  width = canvas.width = window.innerWidth;
  height = canvas.height = window.innerHeight;
  fontSize = Math.max(1, Math.floor(width / 150));
  cols = Math.ceil(width / fontSize);
  rows = Math.ceil(height / fontSize);
  columns = [];
  for (let c = 0; c < cols; c++) {
    let col = [];
    for (let r = 0; r < rows; r++) {
      col[r] = Math.random() > 0.5 ? '11' : '00';
    }
    columns[c] = {
      values: col,
      offset: Math.random() * rows,
      speed: 0.1 + Math.random() * 0.4
    };
  }
});
</script>
</body>
</html>